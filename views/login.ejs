<%- include('partials/header.ejs') %>
<%- include('partials/navbar.ejs') %>

<div class="container">
  <div class="row ">

    <!-- Tous les champs ne sont pas remplis -->
    <% if (messageFields.length > 0) { %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <%= messageFields %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <% } %>

    <div class="col">
      <!-- Sign in -->

      <!-- Inscrit avec succès -->
      <% if (messageRegisterSuccess.length > 0) { %>
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        <%= messageRegisterSuccess %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      <% } %>

      <!-- Email incorrect -->
      <% if (messageEmailIncorrect.length > 0) { %>
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <%= messageEmailIncorrect %> <a href="/auth/register">ici</a>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      <% } %>

      <!-- Message de redirection après tentative d'accès à une page non autorisée -->
      <% if (messageNotConnected.length > 0) { %>
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <%= messageNotConnected %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      <% } %>

      <!-- Mdp incorrect -->
      <% if (messageMdpIncorrect.length > 0) { %>
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <%= messageMdpIncorrect %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      <% } %>



      <!-- =============== FORM CONNEXION ===============  -->
      <section class="connexion">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <h2>Connexion</h2>
            <hr class="littleHr">
          </div>

          <div class="row d-flex justify-content-center">
            <form class="form-connexion" action="/auth/login" method="POST">
              <div class="form-group mb-3">
                <label for="emailLogin" class="mb-1">Email</label>
                <input type="email" class="form-control" name="email" placeholder="Votre email" id="emailLogin">
              </div>
              <div class="form-group mb-3">
                <label for="passwordLogin" class="mb-1">Mot de passe</label>
                <input type="password" class="form-control" name="password" placeholder="Votre mot de passe"
                  id="passwordLogin">
              </div>
              <button type="submit" class="btn btn-primary mb-3">Connexion</button>
              <p id="inscription-already" class="text-center">Vous n'avez pas encore de compte ? <a
                  href="/auth/register">Inscrivez-vous</a>
              </p>
            </form>

          </div>
      </section>

    </div>
  </div>
</div>


<%- include('partials/footer.ejs') %>